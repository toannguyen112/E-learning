{"ast":null,"code":"import { ADD_TO_CART } from \"../Action/type\";\nimport { DELETE_CART } from '../Action/type';\nlet data = JSON.parse(localStorage.getItem(\"cart\"));\nconst initialState = data ? data : [];\n\nconst Cart = (state = initialState, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case ADD_TO_CART:\n      {\n        let cartUpdate = [...state];\n        let index = cartUpdate.findIndex(sp => sp.maKhoaHoc === payload.maKhoaHoc);\n\n        if (index === -1) {\n          gioHangCapNhat = [...cartUpdate, payload];\n        } else {\n          return cartUpdate;\n        }\n\n        localStorage.setItem(\"cart\", JSON.stringify(cartUpdate));\n        return cartUpdate;\n      }\n\n    case DELETE_CART:\n      {\n        let cartUpdate = [...state];\n        let index = cartUpdate.findIndex(item => item.maKhoaHoc === payload.maKhoaHoc);\n        cartUpdate.splice(index, 1);\n        state = cartUpdate;\n        localStorage.setItem(\"cart\", JSON.stringify(mangCapNhat));\n        return [...state];\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default Cart;","map":{"version":3,"sources":["c:\\Users\\ASUS\\OneDrive\\Máy tính\\E-learning\\src\\Store\\Reducer\\cart.jsx"],"names":["ADD_TO_CART","DELETE_CART","data","JSON","parse","localStorage","getItem","initialState","Cart","state","type","payload","cartUpdate","index","findIndex","sp","maKhoaHoc","gioHangCapNhat","setItem","stringify","item","splice","mangCapNhat"],"mappings":"AAAA,SAASA,WAAT,QAA4B,gBAA5B;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAX;AACA,MAAMC,YAAY,GAAGL,IAAI,GAAGA,IAAH,GAAU,EAAnC;;AAEA,MAAMM,IAAI,GAAG,CAACC,KAAK,GAAGF,YAAT,EAAuB;AAAEG,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAvB,KAA6C;AACxD,UAAQD,IAAR;AACE,SAAKV,WAAL;AAAkB;AAEhB,YAAIY,UAAU,GAAG,CAAC,GAAGH,KAAJ,CAAjB;AACA,YAAII,KAAK,GAAGD,UAAU,CAACE,SAAX,CAAqBC,EAAE,IAAIA,EAAE,CAACC,SAAH,KAAiBL,OAAO,CAACK,SAApD,CAAZ;;AAEA,YAAIH,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChBI,UAAAA,cAAc,GAAG,CAAC,GAAGL,UAAJ,EAAgBD,OAAhB,CAAjB;AACD,SAFD,MAEO;AACL,iBAAOC,UAAP;AACD;;AACDP,QAAAA,YAAY,CAACa,OAAb,CAAqB,MAArB,EAA6Bf,IAAI,CAACgB,SAAL,CAAeP,UAAf,CAA7B;AACA,eAAOA,UAAP;AAKD;;AACD,SAAKX,WAAL;AAAkB;AAChB,YAAIW,UAAU,GAAG,CAAC,GAAGH,KAAJ,CAAjB;AACA,YAAII,KAAK,GAAGD,UAAU,CAACE,SAAX,CAAqBM,IAAI,IAAIA,IAAI,CAACJ,SAAL,KAAmBL,OAAO,CAACK,SAAxD,CAAZ;AACAJ,QAAAA,UAAU,CAACS,MAAX,CAAkBR,KAAlB,EAAyB,CAAzB;AACAJ,QAAAA,KAAK,GAAGG,UAAR;AACAP,QAAAA,YAAY,CAACa,OAAb,CAAqB,MAArB,EAA6Bf,IAAI,CAACgB,SAAL,CAAeG,WAAf,CAA7B;AACA,eAAO,CAAC,GAAGb,KAAJ,CAAP;AACD;;AAED;AACE,aAAOA,KAAP;AA5BJ;AA8BD,CA/BD;;AAiCA,eAAeD,IAAf","sourcesContent":["import { ADD_TO_CART } from \"../Action/type\";\r\nimport { DELETE_CART } from '../Action/type'\r\nlet data = JSON.parse(localStorage.getItem(\"cart\"))\r\nconst initialState = data ? data : [];\r\n\r\nconst Cart = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case ADD_TO_CART: {\r\n\r\n      let cartUpdate = [...state];\r\n      let index = cartUpdate.findIndex(sp => sp.maKhoaHoc === payload.maKhoaHoc);\r\n\r\n      if (index === -1) {\r\n        gioHangCapNhat = [...cartUpdate, payload]\r\n      } else {\r\n        return cartUpdate\r\n      }\r\n      localStorage.setItem(\"cart\", JSON.stringify(cartUpdate));\r\n      return cartUpdate;\r\n\r\n\r\n\r\n\r\n    }\r\n    case DELETE_CART: {\r\n      let cartUpdate = [...state]\r\n      let index = cartUpdate.findIndex(item => item.maKhoaHoc === payload.maKhoaHoc)\r\n      cartUpdate.splice(index, 1)\r\n      state = cartUpdate\r\n      localStorage.setItem(\"cart\", JSON.stringify(mangCapNhat));\r\n      return [...state]\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default Cart;\r\n"]},"metadata":{},"sourceType":"module"}