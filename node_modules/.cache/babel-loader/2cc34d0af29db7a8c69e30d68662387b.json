{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\OneDrive\\\\M\\xE1y t\\xEDnh\\\\E-learning\\\\src\\\\Screen\\\\CourseDetailPage.jsx\";\nimport React, { Component } from \"react\";\nimport Header from \"../Component/Header/Header\";\nimport Footer from \"../Component/Footer/Footer\";\nimport Viewing from \"../Component/Viewing/Viewing\";\nimport CourseService from \"../Services/courseService\";\nimport reduxAction from \"../Store/Action/action\";\nimport { FETCH_COURSE_DETAIL } from \"../Store/Action/type\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport CourseItem from \"../Component/courseItem/CourseItem\";\nconst courseService = new CourseService();\n\nclass CourseDetailPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onAdd = courseDetail => {\n      this.props.dispatch(reduxAction(\"ADD_TO_CART\", courseDetail));\n    };\n\n    this.state = {\n      showGoCart: false\n    };\n  } // componentDidMount() {\n  //   // lấy tham số mã khóa học từ url\n  //   const { courseid } = this.props.match.params;\n  //   courseService\n  //     .fetchCourseDetail(courseid)\n  //     .then(res => {\n  //       this.props.dispatch(reduxAction(FETCH_COURSE_DETAIL, res.data));\n  //     })\n  //     .catch(err => {\n  //       console.log(err);\n  //     });\n  // }\n\n\n  render() {\n    let _this$props = this.props,\n        courseDetail = _this$props.courseDetail,\n        course = _this$props.course;\n    console.log(this.props.courseDetail);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(CourseItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(Viewing, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }));\n  }\n\n}\n\nCourseDetailPage.getDerivedStateFromProps = (prevProps, nextState) => {\n  let cart = JSON.parse(localStorage.getItem(\"cart\")) ? JSON.parse(localStorage.getItem(\"cart\")) : [];\n  let index = cart.findIndex(item => {\n    return item.maKhoaHoc === prevProps.course.maKhoaHoc;\n  });\n\n  if (index !== -1) {\n    nextState.showGoCart = true;\n  }\n\n  return null;\n};\n\nconst mapStateToProps = state => ({\n  courseDetail: state.Course.courseDetail || {\n    maKhoaHoc: \"\",\n    tenKhoaHoc: \"\",\n    hinhAnh: \"\",\n    nguoiTao: {\n      taiKhoan: \"\",\n      hoTen: \"\"\n    }\n  },\n  course: state.Course.course\n});\n\nexport default connect(mapStateToProps)(CourseDetailPage);","map":{"version":3,"sources":["C:\\Users\\ASUS\\OneDrive\\Máy tính\\E-learning\\src\\Screen\\CourseDetailPage.jsx"],"names":["React","Component","Header","Footer","Viewing","CourseService","reduxAction","FETCH_COURSE_DETAIL","connect","Link","CourseItem","courseService","CourseDetailPage","constructor","props","onAdd","courseDetail","dispatch","state","showGoCart","render","course","console","log","getDerivedStateFromProps","prevProps","nextState","cart","JSON","parse","localStorage","getItem","index","findIndex","item","maKhoaHoc","mapStateToProps","Course","tenKhoaHoc","hinhAnh","nguoiTao","taiKhoan","hoTen"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AAEA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,SAASC,mBAAT,QAAoC,sBAApC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,UAAP,MAAuB,oCAAvB;AACA,MAAMC,aAAa,GAAG,IAAIN,aAAJ,EAAtB;;AACA,MAAMO,gBAAN,SAA+BX,SAA/B,CAAyC;AACvCY,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAmCnBC,KAnCmB,GAmCXC,YAAY,IAAI;AACtB,WAAKF,KAAL,CAAWG,QAAX,CAAoBX,WAAW,CAAC,aAAD,EAAeU,YAAf,CAA/B;AACD,KArCkB;;AAGjB,SAAKE,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE;AADD,KAAb;AAGD,GAPsC,CASvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAmBAC,EAAAA,MAAM,GAAG;AAAA,sBACwB,KAAKN,KAD7B;AAAA,QACDE,YADC,eACDA,YADC;AAAA,QACaK,MADb,eACaA,MADb;AAEPC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAL,CAAWE,YAAvB;AAEA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAKE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CADF;AASD;;AApDsC;;AAAnCJ,gB,CAsBGY,wB,GAA2B,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AAC1D,MAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,IAA2CH,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAA3C,GAAsF,EAAjG;AACA,MAAIC,KAAK,GAAGL,IAAI,CAACM,SAAL,CAAeC,IAAI,IAAI;AACjC,WAAOA,IAAI,CAACC,SAAL,KAAmBV,SAAS,CAACJ,MAAV,CAAiBc,SAA3C;AACD,GAFW,CAAZ;;AAGA,MAAIH,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChBN,IAAAA,SAAS,CAACP,UAAV,GAAuB,IAAvB;AACD;;AACD,SAAO,IAAP;AAID,C;;AAoBH,MAAMiB,eAAe,GAAGlB,KAAK,KAAK;AAChCF,EAAAA,YAAY,EAAEE,KAAK,CAACmB,MAAN,CAAarB,YAAb,IAA6B;AACzCmB,IAAAA,SAAS,EAAE,EAD8B;AAEzCG,IAAAA,UAAU,EAAE,EAF6B;AAGzCC,IAAAA,OAAO,EAAE,EAHgC;AAIzCC,IAAAA,QAAQ,EAAE;AACRC,MAAAA,QAAQ,EAAE,EADF;AAERC,MAAAA,KAAK,EAAE;AAFC;AAJ+B,GADX;AAWhCrB,EAAAA,MAAM,EAAGH,KAAK,CAACmB,MAAN,CAAahB;AAXU,CAAL,CAA7B;;AAiBA,eAAeb,OAAO,CAAC4B,eAAD,CAAP,CAAyBxB,gBAAzB,CAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport Header from \"../Component/Header/Header\";\r\nimport Footer from \"../Component/Footer/Footer\";\r\nimport Viewing from \"../Component/Viewing/Viewing\";\r\n\r\nimport CourseService from \"../Services/courseService\";\r\nimport reduxAction from \"../Store/Action/action\";\r\nimport { FETCH_COURSE_DETAIL } from \"../Store/Action/type\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CourseItem from \"../Component/courseItem/CourseItem\";\r\nconst courseService = new CourseService();\r\nclass CourseDetailPage extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  \r\n    this.state = {\r\n      showGoCart: false\r\n    }\r\n  }\r\n  \r\n  // componentDidMount() {\r\n  //   // lấy tham số mã khóa học từ url\r\n  //   const { courseid } = this.props.match.params;\r\n  //   courseService\r\n  //     .fetchCourseDetail(courseid)\r\n  //     .then(res => {\r\n  //       this.props.dispatch(reduxAction(FETCH_COURSE_DETAIL, res.data));\r\n  //     })\r\n  //     .catch(err => {\r\n  //       console.log(err);\r\n  //     });\r\n  // }\r\n\r\n  static getDerivedStateFromProps = (prevProps, nextState) => {\r\n    let cart = JSON.parse(localStorage.getItem(\"cart\")) ? JSON.parse(localStorage.getItem(\"cart\")) : [];\r\n    let index = cart.findIndex(item => {\r\n      return item.maKhoaHoc === prevProps.course.maKhoaHoc;\r\n    });\r\n    if (index !== -1) {\r\n      nextState.showGoCart = true\r\n    }\r\n    return null;\r\n\r\n\r\n\r\n  }\r\n\r\n  onAdd = courseDetail => {\r\n    this.props.dispatch(reduxAction(\"ADD_TO_CART\",courseDetail));\r\n  };\r\n  render() {\r\n    let { courseDetail ,course } = this.props;\r\n    console.log(this.props.courseDetail);\r\n\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <CourseItem/>\r\n        <Viewing />\r\n\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  courseDetail: state.Course.courseDetail || {\r\n    maKhoaHoc: \"\",\r\n    tenKhoaHoc: \"\",\r\n    hinhAnh: \"\",\r\n    nguoiTao: {\r\n      taiKhoan: \"\",\r\n      hoTen: \"\"\r\n    }\r\n  },\r\n\r\n  course : state.Course.course\r\n});\r\n\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(CourseDetailPage);\r\n"]},"metadata":{},"sourceType":"module"}